<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gothic+A1:wght@100;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./test.css" />
  </head>
  <body>
    <div class="frame">
      <div class="logo_b" id="logo_b"><img src="./naver.png" /></div>

      <form id="join_form" name="join-form" class="form-horizontal">
        <div class="form-group">
          <label for="user_id" class="col-md-2 label">아이디</label>
          <input
            type="text"
            name="user_id"
            id="user_id"
            class="form-control"
            placeholder="@naver.com   "
          />
        </div>
        <div class="form-group">
          <label for="user_pw" class="col-md-2 label">비밀번호</label>
          <input
            type="password"
            name="user_pw"
            id="user_pw"
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="user_pw_re" class="col-md-2 label">비밀번호 확인</label>
          <input
            type="password"
            name="user_pw_re"
            id="user_pw_re"
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="user_name" class="col-md-2 label">이름</label>
          <input
            type="text"
            name="user_name"
            id="user_name"
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="user_birth" class="col-md-2 label">생년월일</label>
          <div class="birth">
            <input
              type="text"
              name="user_birth"
              id="user_birth_y"
              placeholder="년(4자)"
            />
            <select name="month" id="month">
              <option value="">월</option>
              <option value="1">1월</option>
              <option value="2">2월</option>
              <option value="3">3월</option>
              <option value="4">4월</option>
              <option value="5">5월</option>
              <option value="6">6월</option>
              <option value="7">7월</option>
              <option value="8">8월</option>
              <option value="9">9월</option>
              <option value="10">10월</option>
              <option value="11">11월</option>
              <option value="12">12월</option>
            </select>
            <input
              type="text"
              name="user_birth"
              id="user_birth_d"
              placeholder="일"
            />
          </div>
        </div>
        <div class="form-group">
          <label for="gender" class="col-md-2 label">성별</label>
          <select name="gender" id="gender">
            <option value="">성별</option>
            <option id="gender1" value="F">여</option>
            <option id="gender2" value="M">남</option>
          </select>
        </div>
        <div class="form-group">
          <label for="email" class="col-md-2 label"
            >본인 확인 이메일 <span class="gray">(선택)</span></label
          >
          <input
            type="email"
            name="email"
            id="email"
            class="form-control"
            placeholder="선택입력"
          />
        </div>
        <div class="form-group">
          <label for="phone" class="col-md-2 label">휴대전화</label>
          <div class="phone-box">
            <select name="phone" id="phone_country">
              <option value="kor">대한민국 +82</option>
              <option value="uk">영국 +44</option>
              <option value="aus">호주 +61</option>
            </select>
            <div class="tel">
              <input
                type="tel"
                name="tel"
                id="tel"
                placeholder="전화번호 입력"
              />
              <div class="verify_btn">인증번호 받기</div>
            </div>
            <div class="verify_num">인정번호 입력하세요</div>
          </div>
        </div>
        <button type="sumit">가입하기</button>
      </form>
      <div class="term">
        <span>이용약관</span>
        <span>|</span>
        <span><b>개인정보처리방침</b></span>
        <span>|</span>
        <span>책임의 한계와 법적고지</span>
        <span>|</span>
        <span>회원정보 고객센터</span>
      </div>
      <div class="copyr">
        <div class="logo_s"><img src="./naver.png" /></div>
        <span>Copyright<b> NAVER Corp. </b>All Rights Reserved.</span>
      </div>
    </div>
    <script src="libs/BadRequestException.js"></script>
    <script src="libs/RegexHelper.js"></script>
    <script>
      document.querySelector('#join_form').addEventListener('submit', (e) => {
        e.preventDefault();

        const regexHelper = new RegexHelper();

        try {
          /*아이디 검사*/
          regexHelper.value('#user_id', '아이디를 입력하세요.');
          regexHelper.minLength(
            '#user_id',
            4,
            '아이디는 최소 4자 이상 입력 가능합니다.'
          );
          regexHelper.maxLength(
            '#user_id',
            20,
            '아이디는 최대 20자 까지 입력 가능합니다.'
          );
          regexHelper.engNum(
            '#user_id',
            '아이디는 영어와 숫자 조합만 입력 가능합니다.'
          );

          /*비밀번호 검사*/
          regexHelper.value('#user_pw', '비밀번호를 입력하세요.');
          regexHelper.minLength(
            '#user_pw',
            4,
            '비밀번호는 최소 4자 이상 입력 가능합니다.'
          );
          regexHelper.maxLength(
            '#user_pw',
            20,
            '비밀번호는 최대 20자 까지 입력 가능합니다.'
          );
          regexHelper.compareTo(
            '#user_pw',
            '#user_pw_re',
            '비밀번호 확인이 잘못되었습니다'
          );

          /*이름 검사*/
          regexHelper.value('#user_name', '이름을 입력하세요');
          regexHelper.minLength(
            '#user_name',
            2,
            '이름은 최소 4자 이상 입력 가능합니다'
          );
          regexHelper.maxLength(
            '#user_name',
            20,
            '이름은 최대 20자 까지 입력 가능합니다'
          );
          regexHelper.kor('#user_name', '이름은 한글만 입력 가능합니다');

          /*생년월일*/
          regexHelper.value('#user_birth_y', '년도를 입력하세요');
          regexHelper.year('#user_birth_y', '정확한 년도를 입력하세요');

          regexHelper.select('#month', '정확한 달을 선택하세요');

          regexHelper.value('#user_birth_d', '날짜를 입력하세요');
          regexHelper.date('#user_birth_d', '정확한 날짜를 입력하세요');

          /*성별검사*/
          regexHelper.select('#gender', '성별을 선택하세요');

          /*이메일 검사*/
          regexHelper.value('#email', '이메일을 입력하세요');
          regexHelper.email('#email', '이메일 주소가 잘못되었습니다');

          /*연락처 검사*/
          regexHelper.value('#tel', '연락처를 입력하세요');
          regexHelper.phone('#tel', '연락처가 잘못되었습니다');
        } catch (e) {
          alert(e.message);
          console.error(e);
          document.querySelector(e.selector).focus();
          return;
        }

        //처리 완료
        alert('입력 형식 검사 완료!!!');
      });
    </script>
  </body>
</html>
